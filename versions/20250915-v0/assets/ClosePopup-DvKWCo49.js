import{o as V,bx as ae,O as Z,p as $,P as ee,by as oe,x as r,a2 as ue,aw as re,C as s,av as j,bz as se,bl as H,v as E,aH as ce,bA as de,b9 as fe,be as ve,bB as ge,bc as me,bf as he,bC as be,bg as G,bs as xe,bb as Se,bk as ye,a3 as te,z as ne,bD as _e,X as qe,bE as pe,Y as ke,aY as ie,aA as Ie,_ as Ce,y as U,bF as Fe,ax as W,G as Te,bG as we,bH as Le,bo as ze,bI as Ae,bJ as Be}from"./index-CVx01Jnn.js";import{h as Ne}from"./_plugin-vue_export-helper-y6NWcWVE.js";import{a as Oe,b as Y}from"./QTooltip-CvD-210B.js";const Pe={xs:8,sm:10,md:14,lg:20,xl:24},je=V({name:"QChip",props:{...Z,...ae,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:a,emit:c}){const{proxy:{$q:d}}=$(),o=ee(e,d),u=oe(e,Pe),m=r(()=>e.selected===!0||e.icon!==void 0),h=r(()=>e.selected===!0?e.iconSelected||d.iconSet.chip.selected:e.icon),S=r(()=>e.iconRemove||d.iconSet.chip.remove),_=r(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),q=r(()=>{const l=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(l?` text-${l} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(_.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),b=r(()=>{const l=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},y={...l,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||d.lang.label.remove};return{chip:l,remove:y}});function k(l){l.keyCode===13&&T(l)}function T(l){e.disable||(c("update:selected",!e.selected),c("click",l))}function w(l){(l.keyCode===void 0||l.keyCode===13)&&(H(l),e.disable===!1&&(c("update:modelValue",!1),c("remove")))}function n(){const l=[];_.value===!0&&l.push(s("div",{class:"q-focus-helper"})),m.value===!0&&l.push(s(j,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const y=e.label!==void 0?[s("div",{class:"ellipsis"},[e.label])]:void 0;return l.push(s("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},se(a.default,y))),e.iconRight&&l.push(s(j,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&l.push(s(j,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:S.value,...b.value.remove,onClick:w,onKeyup:w})),l}return()=>{if(e.modelValue===!1)return;const l={class:q.value,style:u.value};return _.value===!0&&Object.assign(l,b.value.chip,{onClick:T,onKeyup:k}),ue("div",l,n(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[re,e.ripple]])}}});function O(e,a,c,d){const o=[];return e.forEach(u=>{d(u)===!0?o.push(u):a.push({failedPropValidation:c,file:u})}),o}function Q(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),H(e)}const Ee={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Ve=["rejected"];function De({editable:e,dnd:a,getFileInput:c,addFilesToQueue:d}){const{props:o,emit:u,proxy:m}=$(),h=E(null),S=r(()=>o.accept!==void 0?o.accept.split(",").map(i=>(i=i.trim(),i==="*"?"*/":(i.endsWith("/*")&&(i=i.slice(0,i.length-1)),i.toUpperCase()))):null),_=r(()=>parseInt(o.maxFiles,10)),q=r(()=>parseInt(o.maxTotalSize,10));function b(i){if(e.value)if(i!==Object(i)&&(i={target:null}),i.target?.matches('input[type="file"]')===!0)i.clientX===0&&i.clientY===0&&ce(i);else{const C=c();C!==i.target&&C?.click(i)}}function k(i){e.value&&i&&d(null,i)}function T(i,C,z,L){let f=Array.from(C||i.target.files);const I=[],F=()=>{I.length!==0&&u("rejected",I)};if(o.accept!==void 0&&S.value.indexOf("*/")===-1&&(f=O(f,I,"accept",v=>S.value.some(x=>v.type.toUpperCase().startsWith(x)||v.name.toUpperCase().endsWith(x))),f.length===0))return F();if(o.maxFileSize!==void 0){const v=parseInt(o.maxFileSize,10);if(f=O(f,I,"max-file-size",x=>x.size<=v),f.length===0)return F()}if(o.multiple!==!0&&f.length!==0&&(f=[f[0]]),f.forEach(v=>{v.__key=v.webkitRelativePath+v.lastModified+v.name+v.size}),L===!0){const v=z.map(x=>x.__key);f=O(f,I,"duplicate",x=>v.includes(x.__key)===!1)}if(f.length===0)return F();if(o.maxTotalSize!==void 0){let v=L===!0?z.reduce((x,B)=>x+B.size,0):0;if(f=O(f,I,"max-total-size",x=>(v+=x.size,v<=q.value)),f.length===0)return F()}if(typeof o.filter=="function"){const v=o.filter(f);f=O(f,I,"filter",x=>v.includes(x))}if(o.maxFiles!==void 0){let v=L===!0?z.length:0;if(f=O(f,I,"max-files",()=>(v++,v<=_.value)),f.length===0)return F()}if(F(),f.length!==0)return f}function w(i){Q(i),a.value!==!0&&(a.value=!0)}function n(i){H(i),(i.relatedTarget!==null||de.is.safari!==!0?i.relatedTarget!==h.value:document.elementsFromPoint(i.clientX,i.clientY).includes(h.value)===!1)===!0&&(a.value=!1)}function l(i){Q(i);const C=i.dataTransfer.files;C.length!==0&&d(null,C),a.value=!1}function y(i){if(a.value===!0)return s("div",{ref:h,class:`q-${i}__dnd absolute-full`,onDragenter:Q,onDragover:Q,onDragleave:n,onDrop:l})}return Object.assign(m,{pickFiles:b,addFiles:k}),{pickFiles:b,addFiles:k,onDragover:w,onDragleave:n,processFiles:T,getDndNode:y,maxFilesNumber:_,maxTotalSizeNumber:q}}const Me=V({name:"QFile",inheritAttrs:!1,props:{...ge,...ve,...Ee,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...fe,...Ve],setup(e,{slots:a,emit:c,attrs:d}){const{proxy:o}=$(),u=me(),m=E(null),h=E(!1),S=he(e),{pickFiles:_,onDragover:q,onDragleave:b,processFiles:k,getDndNode:T}=De({editable:u.editable,dnd:h,getFileInput:D,addFilesToQueue:R}),w=be(e),n=r(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),l=r(()=>G(n.value)),y=r(()=>n.value.map(t=>t.name).join(", ")),i=r(()=>Ne(n.value.reduce((t,g)=>t+g.size,0))),C=r(()=>({totalSize:i.value,filesNumber:n.value.length,maxFiles:e.maxFiles})),z=r(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:S.value,...d,id:u.targetUid.value,disabled:u.editable.value!==!0})),L=r(()=>"q-file q-field--auto-height"+(h.value===!0?" q-file--dnd":"")),f=r(()=>e.multiple===!0&&e.append===!0);function I(t){const g=n.value.slice();g.splice(t,1),v(g)}function F(t){const g=n.value.indexOf(t);g!==-1&&I(g)}function v(t){c("update:modelValue",e.multiple===!0?t:t[0])}function x(t){t.keyCode===13&&ye(t)}function B(t){(t.keyCode===13||t.keyCode===32)&&_(t)}function D(){return m.value}function R(t,g){const p=k(t,g,n.value,f.value),P=D();P!=null&&(P.value=""),p!==void 0&&((e.multiple===!0?e.modelValue&&p.every(le=>n.value.includes(le)):e.modelValue===p[0])||v(f.value===!0?n.value.concat(p):p))}function N(){return[s("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function K(){if(a.file!==void 0)return n.value.length===0?N():n.value.map((g,p)=>a.file({index:p,file:g,ref:this}));if(a.selected!==void 0)return n.value.length===0?N():a.selected({files:n.value,ref:this});if(e.useChips===!0)return n.value.length===0?N():n.value.map((g,p)=>s(je,{key:"file-"+p,removable:u.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{I(p)}},()=>s("span",{class:"ellipsis",textContent:g.name})));const t=e.displayValue!==void 0?e.displayValue:y.value;return t.length!==0?[s("div",{class:e.inputClass,style:e.inputStyle,textContent:t})]:N()}function M(){const t={ref:m,...z.value,...w.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:R};return e.multiple===!0&&(t.multiple=!0),s("input",t)}return Object.assign(u,{fieldClass:L,emitValue:v,hasValue:l,inputRef:m,innerValue:n,floatingLabel:r(()=>l.value===!0||G(e.displayValue)),computedCounter:r(()=>{if(e.counterLabel!==void 0)return e.counterLabel(C.value);const t=e.maxFiles;return`${n.value.length}${t!==void 0?" / "+t:""} (${i.value})`}),getControlChild:()=>T("file"),getControl:()=>{const t={ref:u.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return u.editable.value===!0&&Object.assign(t,{onDragover:q,onDragleave:b,onKeydown:x,onKeyup:B}),s("div",t,[M()].concat(K()))}}),Object.assign(o,{removeAtIndex:I,removeFile:F,getNativeElement:()=>m.value}),xe(o,"nativeEl",()=>m.value),Se(u)}}),X=V({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:a}){const c=r(()=>parseInt(e.lines,10)),d=r(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(c.value===1?" ellipsis":"")),o=r(()=>e.lines!==void 0&&c.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":c.value}:null);return()=>s("div",{style:o.value,class:d.value},te(a.default))}}),Re=V({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:a,emit:c}){let d=!1,o,u,m=null,h=null,S,_;function q(){o?.(),o=null,d=!1,m!==null&&(clearTimeout(m),m=null),h!==null&&(clearTimeout(h),h=null),u?.removeEventListener("transitionend",S),S=null}function b(n,l,y){l!==void 0&&(n.style.height=`${l}px`),n.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,d=!0,o=y}function k(n,l){n.style.overflowY=null,n.style.height=null,n.style.transition=null,q(),l!==_&&c(l)}function T(n,l){let y=0;u=n,d===!0?(q(),y=n.offsetHeight===n.scrollHeight?0:void 0):(_="hide",n.style.overflowY="hidden"),b(n,y,l),m=setTimeout(()=>{m=null,n.style.height=`${n.scrollHeight}px`,S=i=>{h=null,(Object(i)!==i||i.target===n)&&k(n,"show")},n.addEventListener("transitionend",S),h=setTimeout(S,e.duration*1.1)},100)}function w(n,l){let y;u=n,d===!0?q():(_="show",n.style.overflowY="hidden",y=n.scrollHeight),b(n,y,l),m=setTimeout(()=>{m=null,n.style.height=0,S=i=>{h=null,(Object(i)!==i||i.target===n)&&k(n,"hide")},n.addEventListener("transitionend",S),h=setTimeout(S,e.duration*1.1)},100)}return ne(()=>{d===!0&&q()}),()=>s(_e,{css:!1,appear:e.appear,onEnter:T,onLeave:w},a.default)}}),A=pe({}),Qe=Object.keys(ie),Ue=V({name:"QExpansionItem",props:{...ie,...ke,...Z,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...qe,"click","afterShow","afterHide"],setup(e,{slots:a,emit:c}){const{proxy:{$q:d}}=$(),o=ee(e,d),u=E(e.modelValue!==null?e.modelValue:e.defaultOpened),m=E(null),h=Ie(),{show:S,hide:_,toggle:q}=Ce({showing:u});let b,k;const T=r(()=>`q-expansion-item q-item-type q-expansion-item--${u.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),w=r(()=>e.contentInsetLevel===void 0?null:{["padding"+(d.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),n=r(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),l=r(()=>{const t={};return Qe.forEach(g=>{t[g]=e[g]}),t}),y=r(()=>n.value===!0||e.expandIconToggle!==!0),i=r(()=>e.expandedIcon!==void 0&&u.value===!0?e.expandedIcon:e.expandIcon||d.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),C=r(()=>e.disable!==!0&&(n.value===!0||e.expandIconToggle===!0)),z=r(()=>({expanded:u.value===!0,detailsId:h.value,toggle:q,show:S,hide:_})),L=r(()=>{const t=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:d.lang.label[u.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":u.value===!0?"true":"false","aria-controls":h.value,"aria-label":t}});U(()=>e.group,t=>{k?.(),t!==void 0&&B()});function f(t){n.value!==!0&&q(t),c("click",t)}function I(t){t.keyCode===13&&F(t,!0)}function F(t,g){g!==!0&&t.qAvoidFocus!==!0&&m.value?.focus(),q(t),H(t)}function v(){c("afterShow")}function x(){c("afterHide")}function B(){b===void 0&&(b=Fe()),u.value===!0&&(A[e.group]=b);const t=U(u,p=>{p===!0?A[e.group]=b:A[e.group]===b&&delete A[e.group]}),g=U(()=>A[e.group],(p,P)=>{P===b&&p!==void 0&&p!==b&&_()});k=()=>{t(),g(),A[e.group]===b&&delete A[e.group],k=void 0}}function D(){const t={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},g=[s(j,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&u.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:i.value})];return C.value===!0&&(Object.assign(t,{tabindex:0,...L.value,onClick:F,onKeyup:I}),g.unshift(s("div",{ref:m,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),s(Y,t,()=>g)}function R(){let t;return a.header!==void 0?t=[].concat(a.header(z.value)):(t=[s(Y,()=>[s(X,{lines:e.labelLines},()=>e.label||""),e.caption?s(X,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&t[e.switchToggleSide===!0?"push":"unshift"](s(Y,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>s(j,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&t[e.switchToggleSide===!0?"unshift":"push"](D()),t}function N(){const t={ref:"item",style:e.headerStyle,class:e.headerClass,dark:o.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return y.value===!0&&(t.clickable=!0,t.onClick=f,Object.assign(t,n.value===!0?l.value:L.value)),s(Oe,t,R)}function K(){return Te(s("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:w.value,id:h.value},te(a.default)),[[we,u.value]])}function M(){const t=[N(),s(Re,{duration:e.duration,onShow:v,onHide:x},K)];return e.expandSeparator===!0&&t.push(s(W,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:o.value}),s(W,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:o.value})),t}return e.group!==void 0&&B(),ne(()=>{k?.()}),()=>s("div",{class:T.value},[s("div",{class:"q-expansion-item__container relative-position"},M())])}});function J(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const a=parseInt(e,10);return isNaN(a)?0:a}const Ye=Le({name:"close-popup",beforeMount(e,{value:a}){const c={depth:J(a),handler(d){c.depth!==0&&setTimeout(()=>{const o=Ae(e);o!==void 0&&Be(o,d,c.depth)})},handlerKey(d){ze(d,13)===!0&&c.handler(d)}};e.__qclosepopup=c,e.addEventListener("click",c.handler),e.addEventListener("keyup",c.handlerKey)},updated(e,{value:a,oldValue:c}){a!==c&&(e.__qclosepopup.depth=J(a))},beforeUnmount(e){const a=e.__qclosepopup;e.removeEventListener("click",a.handler),e.removeEventListener("keyup",a.handlerKey),delete e.__qclosepopup}});export{Ye as C,Ue as Q,Me as a,je as b,X as c};
