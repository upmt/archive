import{o as Y,p as J,q as qe,r as W,t as se,v as S,x as n,y as _,z as ce,B as ot,C as T,G as ue,H as nt,I as rt,J as it,K as Te,L as ut,M as st,N as ct,O as Ae,P as Re,Q as vt,R as be,T as dt,U as ft,V as je,W as $e,X as ht,Y as mt,Z as bt,_ as gt,$ as yt,a0 as zt,a1 as ke,a2 as Oe,a3 as Fe,a4 as We,a5 as St,a6 as ge,a7 as wt,a8 as ne,a9 as qt,aa as Tt,ab as _t,ac as Ct,ad as $t,ae as kt,af as ee,ag as j,ah as M,ai as k,aj as Ot,ak as ye,al as ze,am as re,an as te,ao as Se,ap as ie,aq as pe,ar as Pe,as as pt,at as Be,au as Pt,av as Bt,aw as Mt,ax as xt,ay as Vt}from"./index-WyGaQITf.js";import{Q as Lt,a as Ht,N as Qt,b as It,c as Dt}from"./NoteIcon-DQUqT2mk.js";import{Q as le,T as ae}from"./TouchPan-_iLfzzbU.js";import{u as At,Q as Rt,a as jt,b as Me}from"./QTooltip-RdSUjGeD.js";import{b as F}from"./_plugin-vue_export-helper-D9bj9lvg.js";const Ft=Y({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:x,emit:b}){const{proxy:{$q:f}}=J(),i=qe(se,W);if(i===W)return console.error("QHeader needs to be child of QLayout"),W;const v=S(parseInt(e.heightHint,10)),r=S(!0),a=n(()=>e.reveal===!0||i.view.value.indexOf("H")!==-1||f.platform.is.ios&&i.isContainer.value===!0),C=n(()=>{if(e.modelValue!==!0)return 0;if(a.value===!0)return r.value===!0?v.value:0;const c=v.value-i.scroll.value.position;return c>0?c:0}),w=n(()=>e.modelValue!==!0||a.value===!0&&r.value!==!0),l=n(()=>e.modelValue===!0&&w.value===!0&&e.reveal===!0),O=n(()=>"q-header q-layout__section--marginal "+(a.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(w.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),q=n(()=>{const c=i.rows.value.top,B={};return c[0]==="l"&&i.left.space===!0&&(B[f.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),c[2]==="r"&&i.right.space===!0&&(B[f.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),B});function h(c,B){i.update("header",c,B)}function u(c,B){c.value!==B&&(c.value=B)}function L({height:c}){u(v,c),h("size",c)}function d(c){l.value===!0&&u(r,!0),b("focusin",c)}_(()=>e.modelValue,c=>{h("space",c),u(r,!0),i.animate()}),_(C,c=>{h("offset",c)}),_(()=>e.reveal,c=>{c===!1&&u(r,e.modelValue)}),_(r,c=>{i.animate(),b("reveal",c)}),_(i.scroll,c=>{e.reveal===!0&&u(r,c.direction==="up"||c.position<=e.revealOffset||c.position-c.inflectionPoint<100)});const m={};return i.instances.header=m,e.modelValue===!0&&h("size",v.value),h("space",e.modelValue),h("offset",C.value),ce(()=>{i.instances.header===m&&(i.instances.header=void 0,h("size",0),h("offset",0),h("space",!1))}),()=>{const c=ot(x.default,[]);return e.elevated===!0&&c.push(T("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),c.push(T(le,{debounce:0,onResize:L})),T("header",{class:O.value,style:q.value,onFocusin:d},c)}}}),Wt=Y({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[T("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),T("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),ue(T("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),ue(T("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),{passive:xe}=nt,Nt=["both","horizontal","vertical"],Ne=Y({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Nt.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:rt},emits:["scroll"],setup(e,{emit:x}){const b={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let f=null,i,v;_(()=>e.scrollTarget,()=>{C(),a()});function r(){f?.();const O=Math.max(0,st(i)),q=ct(i),h={top:O-b.position.top,left:q-b.position.left};if(e.axis==="vertical"&&h.top===0||e.axis==="horizontal"&&h.left===0)return;const u=Math.abs(h.top)>=Math.abs(h.left)?h.top<0?"up":"down":h.left<0?"left":"right";b.position={top:O,left:q},b.directionChanged=b.direction!==u,b.delta=h,b.directionChanged===!0&&(b.direction=u,b.inflectionPoint=b.position),x("scroll",{...b})}function a(){i=it(v,e.scrollTarget),i.addEventListener("scroll",w,xe),w(!0)}function C(){i!==void 0&&(i.removeEventListener("scroll",w,xe),i=void 0)}function w(O){if(O===!0||e.debounce===0||e.debounce==="0")r();else if(f===null){const[q,h]=e.debounce?[setTimeout(r,e.debounce),clearTimeout]:[requestAnimationFrame(r),cancelAnimationFrame];f=()=>{h(q),f=null}}}const{proxy:l}=J();return _(()=>l.$q.lang.rtl,r),Te(()=>{v=l.$el.parentNode,a()}),ce(()=>{f?.(),C()}),Object.assign(l,{trigger:w,getPosition:()=>b}),ut}}),Ve=["vertical","horizontal"],we={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Le={prevent:!0,mouse:!0,mouseAllDir:!0},He=e=>e>=250?50:Math.ceil(e/5),Qe=Y({name:"QScrollArea",props:{...Ae,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:x,emit:b}){const f=S(!1),i=S(!1),v=S(!1),r={vertical:S(0),horizontal:S(0)},a={vertical:{ref:S(null),position:S(0),size:S(0)},horizontal:{ref:S(null),position:S(0),size:S(0)}},{proxy:C}=J(),w=Re(e,C.$q);let l=null,O;const q=S(null),h=n(()=>"q-scrollarea"+(w.value===!0?" q-scrollarea--dark":""));Object.assign(r,{verticalInner:n(()=>r.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:n(()=>r.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),a.vertical.percentage=n(()=>{const o=a.vertical.size.value-r.vertical.value;if(o<=0)return 0;const s=F(a.vertical.position.value/o,0,1);return Math.round(s*1e4)/1e4}),a.vertical.thumbHidden=n(()=>(e.visible===null?v.value:e.visible)!==!0&&f.value===!1&&i.value===!1||a.vertical.size.value<=r.vertical.value+1),a.vertical.thumbStart=n(()=>e.verticalOffset[0]+a.vertical.percentage.value*(r.verticalInner.value-a.vertical.thumbSize.value)),a.vertical.thumbSize=n(()=>Math.round(F(r.verticalInner.value*r.verticalInner.value/a.vertical.size.value,He(r.verticalInner.value),r.verticalInner.value))),a.vertical.style=n(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${a.vertical.thumbStart.value}px`,height:`${a.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),a.vertical.thumbClass=n(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.vertical.barClass=n(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),a.horizontal.percentage=n(()=>{const o=a.horizontal.size.value-r.horizontal.value;if(o<=0)return 0;const s=F(Math.abs(a.horizontal.position.value)/o,0,1);return Math.round(s*1e4)/1e4}),a.horizontal.thumbHidden=n(()=>(e.visible===null?v.value:e.visible)!==!0&&f.value===!1&&i.value===!1||a.horizontal.size.value<=r.horizontal.value+1),a.horizontal.thumbStart=n(()=>e.horizontalOffset[0]+a.horizontal.percentage.value*(r.horizontalInner.value-a.horizontal.thumbSize.value)),a.horizontal.thumbSize=n(()=>Math.round(F(r.horizontalInner.value*r.horizontalInner.value/a.horizontal.size.value,He(r.horizontalInner.value),r.horizontalInner.value))),a.horizontal.style=n(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[C.$q.lang.rtl===!0?"right":"left"]:`${a.horizontal.thumbStart.value}px`,width:`${a.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),a.horizontal.thumbClass=n(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.horizontal.barClass=n(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const u=n(()=>a.vertical.thumbHidden.value===!0&&a.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function L(){const o={};return Ve.forEach(s=>{const z=a[s];Object.assign(o,{[s+"Position"]:z.position.value,[s+"Percentage"]:z.percentage.value,[s+"Size"]:z.size.value,[s+"ContainerSize"]:r[s].value,[s+"ContainerInnerSize"]:r[s+"Inner"].value})}),o}const d=vt(()=>{const o=L();o.ref=C,b("scroll",o)},0);function m(o,s,z){if(Ve.includes(o)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(o==="vertical"?$e:be)(q.value,s,z)}function c({height:o,width:s}){let z=!1;r.vertical.value!==o&&(r.vertical.value=o,z=!0),r.horizontal.value!==s&&(r.horizontal.value=s,z=!0),z===!0&&P()}function B({position:o}){let s=!1;a.vertical.position.value!==o.top&&(a.vertical.position.value=o.top,s=!0),a.horizontal.position.value!==o.left&&(a.horizontal.position.value=o.left,s=!0),s===!0&&P()}function y({height:o,width:s}){a.horizontal.size.value!==s&&(a.horizontal.size.value=s,P()),a.vertical.size.value!==o&&(a.vertical.size.value=o,P())}function $(o,s){const z=a[s];if(o.isFirst===!0){if(z.thumbHidden.value===!0)return;O=z.position.value,i.value=!0}else if(i.value!==!0)return;o.isFinal===!0&&(i.value=!1);const D=we[s],R=(z.size.value-r[s].value)/(r[s+"Inner"].value-z.thumbSize.value),A=o.distance[D.dist],Z=O+(o.direction===D.dir?1:-1)*A*R;N(Z,s)}function p(o,s){const z=a[s];if(z.thumbHidden.value!==!0){const D=s==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],R=o[we[s].offset]-D,A=z.thumbStart.value-D;if(R<A||R>A+z.thumbSize.value){const Z=R-z.thumbSize.value/2,ve=F(Z/(r[s+"Inner"].value-z.thumbSize.value),0,1);N(ve*Math.max(0,z.size.value-r[s].value),s)}z.ref.value!==null&&z.ref.value.dispatchEvent(new MouseEvent(o.type,o))}}function P(){f.value=!0,l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,f.value=!1},e.delay),e.onScroll!==void 0&&d()}function N(o,s){q.value[we[s].scroll]=o}let V=null;function I(){V!==null&&clearTimeout(V),V=setTimeout(()=>{V=null,v.value=!0},C.$q.platform.is.ios?50:0)}function E(){V!==null&&(clearTimeout(V),V=null),v.value=!1}let X=null;_(()=>C.$q.lang.rtl,o=>{q.value!==null&&be(q.value,Math.abs(a.horizontal.position.value)*(o===!0?-1:1))}),dt(()=>{X={top:a.vertical.position.value,left:a.horizontal.position.value}}),ft(()=>{if(X===null)return;const o=q.value;o!==null&&(be(o,X.left),$e(o,X.top))}),ce(d.cancel),Object.assign(C,{getScrollTarget:()=>q.value,getScroll:L,getScrollPosition:()=>({top:a.vertical.position.value,left:a.horizontal.position.value}),getScrollPercentage:()=>({top:a.vertical.percentage.value,left:a.horizontal.percentage.value}),setScrollPosition:m,setScrollPercentage(o,s,z){m(o,s*(a[o].size.value-r[o].value)*(o==="horizontal"&&C.$q.lang.rtl===!0?-1:1),z)}});const U={scroll:a,thumbVertDir:[[ae,o=>{$(o,"vertical")},void 0,{vertical:!0,...Le}]],thumbHorizDir:[[ae,o=>{$(o,"horizontal")},void 0,{horizontal:!0,...Le}]],onVerticalMousedown(o){p(o,"vertical")},onHorizontalMousedown(o){p(o,"horizontal")}};return()=>T("div",{class:h.value,onMouseenter:I,onMouseleave:E},[T("div",{ref:q,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[T("div",{class:"q-scrollarea__content absolute",style:u.value},je(x.default,[T(le,{debounce:0,onResize:y})])),T(Ne,{axis:"both",onScroll:B})]),T(le,{debounce:0,onResize:c}),T(Wt,{store:U,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Ie=150,De=Y({name:"QDrawer",inheritAttrs:!1,props:{...mt,...Ae,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...ht,"onLayout","miniState"],setup(e,{slots:x,emit:b,attrs:f}){const i=J(),{proxy:{$q:v}}=i,r=Re(e,v),{preventBodyScroll:a}=zt(),{registerTimeout:C,removeTimeout:w}=bt(),l=qe(se,W);if(l===W)return console.error("QDrawer needs to be child of QLayout"),W;let O,q=null,h;const u=S(e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint),L=n(()=>e.mini===!0&&u.value!==!0),d=n(()=>L.value===!0?e.miniWidth:e.width),m=S(e.showIfAbove===!0&&u.value===!1?!0:e.modelValue===!0),c=n(()=>e.persistent!==!0&&(u.value===!0||Z.value===!0));function B(t,g){if(P(),t!==!1&&l.animate(),Q(0),u.value===!0){const H=l.instances[z.value];H?.belowBreakpoint===!0&&H.hide(!1),K(1),l.isContainer.value!==!0&&a(!0)}else K(0),t!==!1&&fe(!1);C(()=>{t!==!1&&fe(!0),g!==!0&&b("show",t)},Ie)}function y(t,g){N(),t!==!1&&l.animate(),K(0),Q(E.value*d.value),he(),g!==!0?C(()=>{b("hide",t)},Ie):w()}const{show:$,hide:p}=gt({showing:m,hideOnRouteChange:c,handleShow:B,handleHide:y}),{addToHistory:P,removeFromHistory:N}=yt(m,p,c),V={belowBreakpoint:u,hide:p},I=n(()=>e.side==="right"),E=n(()=>(v.lang.rtl===!0?-1:1)*(I.value===!0?1:-1)),X=S(0),U=S(!1),o=S(!1),s=S(d.value*E.value),z=n(()=>I.value===!0?"left":"right"),D=n(()=>m.value===!0&&u.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:d.value:0),R=n(()=>e.overlay===!0||e.miniToOverlay===!0||l.view.value.indexOf(I.value?"R":"L")!==-1||v.platform.is.ios===!0&&l.isContainer.value===!0),A=n(()=>e.overlay===!1&&m.value===!0&&u.value===!1),Z=n(()=>e.overlay===!0&&m.value===!0&&u.value===!1),ve=n(()=>"fullscreen q-drawer__backdrop"+(m.value===!1&&U.value===!1?" hidden":"")),Ee=n(()=>({backgroundColor:`rgba(0,0,0,${X.value*.4})`})),_e=n(()=>I.value===!0?l.rows.value.top[2]==="r":l.rows.value.top[0]==="l"),Ue=n(()=>I.value===!0?l.rows.value.bottom[2]==="r":l.rows.value.bottom[0]==="l"),Ke=n(()=>{const t={};return l.header.space===!0&&_e.value===!1&&(R.value===!0?t.top=`${l.header.offset}px`:l.header.space===!0&&(t.top=`${l.header.size}px`)),l.footer.space===!0&&Ue.value===!1&&(R.value===!0?t.bottom=`${l.footer.offset}px`:l.footer.space===!0&&(t.bottom=`${l.footer.size}px`)),t}),Ge=n(()=>{const t={width:`${d.value}px`,transform:`translateX(${s.value}px)`};return u.value===!0?t:Object.assign(t,Ke.value)}),Xe=n(()=>"q-drawer__content fit "+(l.isContainer.value!==!0?"scroll":"overflow-auto")),Ye=n(()=>`q-drawer q-drawer--${e.side}`+(o.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(r.value===!0?" q-drawer--dark q-dark":"")+(U.value===!0?" no-transition":m.value===!0?"":" q-layout--prevent-focus")+(u.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${L.value===!0?"mini":"standard"}`+(R.value===!0||A.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(_e.value===!0?" q-drawer--top-padding":""))),Je=n(()=>{const t=v.lang.rtl===!0?e.side:z.value;return[[ae,at,void 0,{[t]:!0,mouse:!0}]]}),Ze=n(()=>{const t=v.lang.rtl===!0?z.value:e.side;return[[ae,Ce,void 0,{[t]:!0,mouse:!0}]]}),et=n(()=>{const t=v.lang.rtl===!0?z.value:e.side;return[[ae,Ce,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function de(){lt(u,e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint)}_(u,t=>{t===!0?(O=m.value,m.value===!0&&p(!1)):e.overlay===!1&&e.behavior!=="mobile"&&O!==!1&&(m.value===!0?(Q(0),K(0),he()):$(!1))}),_(()=>e.side,(t,g)=>{l.instances[g]===V&&(l.instances[g]=void 0,l[g].space=!1,l[g].offset=0),l.instances[t]=V,l[t].size=d.value,l[t].space=A.value,l[t].offset=D.value}),_(l.totalWidth,()=>{(l.isContainer.value===!0||document.qScrollPrevented!==!0)&&de()}),_(()=>e.behavior+e.breakpoint,de),_(l.isContainer,t=>{m.value===!0&&a(t!==!0),t===!0&&de()}),_(l.scrollbarWidth,()=>{Q(m.value===!0?0:void 0)}),_(D,t=>{G("offset",t)}),_(A,t=>{b("onLayout",t),G("space",t)}),_(I,()=>{Q()}),_(d,t=>{Q(),me(e.miniToOverlay,t)}),_(()=>e.miniToOverlay,t=>{me(t,d.value)}),_(()=>v.lang.rtl,()=>{Q()}),_(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(tt(),l.animate())}),_(L,t=>{b("miniState",t)});function Q(t){t===void 0?ke(()=>{t=m.value===!0?0:d.value,Q(E.value*t)}):(l.isContainer.value===!0&&I.value===!0&&(u.value===!0||Math.abs(t)===d.value)&&(t+=E.value*l.scrollbarWidth.value),s.value=t)}function K(t){X.value=t}function fe(t){const g=t===!0?"remove":l.isContainer.value!==!0?"add":"";g!==""&&document.body.classList[g]("q-body--drawer-toggle")}function tt(){q!==null&&clearTimeout(q),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),o.value=!0,q=setTimeout(()=>{q=null,o.value=!1,i?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function at(t){if(m.value!==!1)return;const g=d.value,H=F(t.distance.x,0,g);if(t.isFinal===!0){H>=Math.min(75,g)===!0?$():(l.animate(),K(0),Q(E.value*g)),U.value=!1;return}Q((v.lang.rtl===!0?I.value!==!0:I.value)?Math.max(g-H,0):Math.min(0,H-g)),K(F(H/g,0,1)),t.isFirst===!0&&(U.value=!0)}function Ce(t){if(m.value!==!0)return;const g=d.value,H=t.direction===e.side,oe=(v.lang.rtl===!0?H!==!0:H)?F(t.distance.x,0,g):0;if(t.isFinal===!0){Math.abs(oe)<Math.min(75,g)===!0?(l.animate(),K(1),Q(0)):p(),U.value=!1;return}Q(E.value*oe),K(F(1-oe/g,0,1)),t.isFirst===!0&&(U.value=!0)}function he(){a(!1),fe(!0)}function G(t,g){l.update(e.side,t,g)}function lt(t,g){t.value!==g&&(t.value=g)}function me(t,g){G("size",t===!0?e.miniWidth:g)}return l.instances[e.side]=V,me(e.miniToOverlay,d.value),G("space",A.value),G("offset",D.value),e.showIfAbove===!0&&e.modelValue!==!0&&m.value===!0&&e["onUpdate:modelValue"]!==void 0&&b("update:modelValue",!0),Te(()=>{b("onLayout",A.value),b("miniState",L.value),O=e.showIfAbove===!0;const t=()=>{(m.value===!0?B:y)(!1,!0)};if(l.totalWidth.value!==0){ke(t);return}h=_(l.totalWidth,()=>{h(),h=void 0,m.value===!1&&e.showIfAbove===!0&&u.value===!1?$(!1):t()})}),ce(()=>{h?.(),q!==null&&(clearTimeout(q),q=null),m.value===!0&&he(),l.instances[e.side]===V&&(l.instances[e.side]=void 0,G("size",0),G("offset",0),G("space",!1))}),()=>{const t=[];u.value===!0&&(e.noSwipeOpen===!1&&t.push(ue(T("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Je.value)),t.push(Oe("div",{ref:"backdrop",class:ve.value,style:Ee.value,"aria-hidden":"true",onClick:p},void 0,"backdrop",e.noSwipeBackdrop!==!0&&m.value===!0,()=>et.value)));const g=L.value===!0&&x.mini!==void 0,H=[T("div",{...f,key:""+g,class:[Xe.value,f.class]},g===!0?x.mini():Fe(x.default))];return e.elevated===!0&&m.value===!0&&H.push(T("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(Oe("aside",{ref:"content",class:Ye.value,style:Ge.value},H,"contentclose",e.noSwipeClose!==!0&&u.value===!0,()=>Ze.value)),T("div",{class:"q-drawer-container"},t)}}}),Et=Y({name:"QPageContainer",setup(e,{slots:x}){const{proxy:{$q:b}}=J(),f=qe(se,W);if(f===W)return console.error("QPageContainer needs to be child of QLayout"),W;We(St,!0);const i=n(()=>{const v={};return f.header.space===!0&&(v.paddingTop=`${f.header.size}px`),f.right.space===!0&&(v[`padding${b.lang.rtl===!0?"Left":"Right"}`]=`${f.right.size}px`),f.footer.space===!0&&(v.paddingBottom=`${f.footer.size}px`),f.left.space===!0&&(v[`padding${b.lang.rtl===!0?"Right":"Left"}`]=`${f.left.size}px`),v});return()=>T("div",{class:"q-page-container",style:i.value},Fe(x.default))}}),Ut=Y({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:x,emit:b}){const{proxy:{$q:f}}=J(),i=S(null),v=S(f.screen.height),r=S(e.container===!0?0:f.screen.width),a=S({position:0,direction:"down",inflectionPoint:0}),C=S(0),w=S(wt.value===!0?0:ge()),l=n(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),O=n(()=>e.container===!1?{minHeight:f.screen.height+"px"}:null),q=n(()=>w.value!==0?{[f.lang.rtl===!0?"left":"right"]:`${w.value}px`}:null),h=n(()=>w.value!==0?{[f.lang.rtl===!0?"right":"left"]:0,[f.lang.rtl===!0?"left":"right"]:`-${w.value}px`,width:`calc(100% + ${w.value}px)`}:null);function u(y){if(e.container===!0||document.qScrollPrevented!==!0){const $={position:y.position.top,direction:y.direction,directionChanged:y.directionChanged,inflectionPoint:y.inflectionPoint.top,delta:y.delta.top};a.value=$,e.onScroll!==void 0&&b("scroll",$)}}function L(y){const{height:$,width:p}=y;let P=!1;v.value!==$&&(P=!0,v.value=$,e.onScrollHeight!==void 0&&b("scrollHeight",$),m()),r.value!==p&&(P=!0,r.value=p),P===!0&&e.onResize!==void 0&&b("resize",y)}function d({height:y}){C.value!==y&&(C.value=y,m())}function m(){if(e.container===!0){const y=v.value>C.value?ge():0;w.value!==y&&(w.value=y)}}let c=null;const B={instances:{},view:n(()=>e.view),isContainer:n(()=>e.container),rootRef:i,height:v,containerHeight:C,scrollbarWidth:w,totalWidth:n(()=>r.value+w.value),rows:n(()=>{const y=e.view.toLowerCase().split(" ");return{top:y[0].split(""),middle:y[1].split(""),bottom:y[2].split("")}}),header:ne({size:0,offset:0,space:!1}),right:ne({size:300,offset:0,space:!1}),footer:ne({size:0,offset:0,space:!1}),left:ne({size:300,offset:0,space:!1}),scroll:a,animate(){c!==null?clearTimeout(c):document.body.classList.add("q-body--layout-animate"),c=setTimeout(()=>{c=null,document.body.classList.remove("q-body--layout-animate")},155)},update(y,$,p){B[y][$]=p}};if(We(se,B),ge()>0){let y=function(){P=null,N.classList.remove("hide-scrollbar")},$=function(){if(P===null){if(N.scrollHeight>f.screen.height)return;N.classList.add("hide-scrollbar")}else clearTimeout(P);P=setTimeout(y,300)},p=function(V){P!==null&&V==="remove"&&(clearTimeout(P),y()),window[`${V}EventListener`]("resize",$)},P=null;const N=document.body;_(()=>e.container!==!0?"add":"remove",p),e.container!==!0&&p("add"),qt(()=>{p("remove")})}return()=>{const y=je(x.default,[T(Ne,{onScroll:u}),T(le,{onResize:L})]),$=T("div",{class:l.value,style:O.value,ref:e.container===!0?void 0:i,tabindex:-1},y);return e.container===!0?T("div",{class:"q-layout-container overflow-hidden",ref:i},[T(le,{onResize:d}),T("div",{class:"absolute-full",style:q.value},[T("div",{class:"scroll",style:h.value},[$])])]):$}}}),Kt={key:0,class:"context"},Gt={key:0},aa=Tt({name:"MainLayout",__name:"MainLayout",setup(e){const x=At(),b=_t(),f=Ct(),{currentInterview:i,currentProjectId:v,username:r}=$t(f),a=n(()=>v.value?b.getProject(v.value):null),C=n(()=>{let h=[{label:"Home",icon:"mdi-home",link:"/home"}];return v.value&&(h.push({label:"Specific models",icon:"mdi-semantic-web",link:`/project/${v.value}`}),h.push({label:"Generic Model",icon:"mdi-table",link:`/spreadsheet/${v.value}`})),h=h.concat([{label:"Documentation",icon:"mdi-help-circle-outline",href:"https://github.com/upmt/upmt/wiki"},{label:"Discussions",icon:"mdi-chat-question-outline",href:"https://github.com/upmt/upmt/discussions"},{label:"Github",icon:"mdi-github",href:"https://github.com/upmt/upmt"},{label:"Debug",icon:"mdi-eye",link:"/debug"}]),h}),w=S(!1),l=S(!1);function O(){w.value=!w.value}function q(){if(v.value){const h=Vt(v.value);x.notify({type:"info",message:`Stored as ${h}`})}}return Te(()=>{w.value=!1,l.value=!1}),(h,u)=>{const L=kt("router-view");return j(),ee(Ut,{view:"hHr lpr fFr"},{default:M(()=>[k(Ft,{elevated:""},{default:M(()=>[k(Lt,null,{default:M(()=>[k(ye,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:O}),k(Ht,{class:"app-title"},{default:M(()=>[u[6]||(u[6]=ze(" μPMT | ",-1)),a.value?(j(),re("span",Kt,[ze(Se(a.value.name)+" ",1),k(Qt,{element:a.value},null,8,["element"]),ie(i)?(j(),re("span",Gt," - "+Se(ie(i).label),1)):te("",!0)])):te("",!0)]),_:1}),Ot("div",null,[a.value?(j(),ee(ye,{key:0,dense:"",flat:"",round:"",onClick:u[0]||(u[0]=d=>q()),icon:"mdi-content-save"})):te("",!0),k(ye,{dense:"",flat:"",round:"",icon:"mdi-account"},{default:M(()=>[k(It,{modelValue:ie(r),"onUpdate:modelValue":u[2]||(u[2]=d=>pe(r)?r.value=d:null),"auto-save":""},{default:M(d=>[k(Pe,{modelValue:d.value,"onUpdate:modelValue":m=>d.value=m,onFocus:u[1]||(u[1]=m=>m.target.select()),dense:"",autofocus:"",onKeyup:pt(d.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1}),k(De,{modelValue:w.value,"onUpdate:modelValue":u[3]||(u[3]=d=>w.value=d),overlay:"",bordered:""},{default:M(()=>[k(Qe,{class:"fit"},{default:M(()=>[k(Rt,null,{default:M(()=>[(j(!0),re(Be,null,Pt(C.value,(d,m)=>(j(),re(Be,{key:m},[ue((j(),ee(jt,{clickable:"",to:d.link,href:d.href,target:d.href?"web":void 0},{default:M(()=>[d.icon?(j(),ee(Me,{key:0,avatar:""},{default:M(()=>[k(Bt,{name:d.icon},null,8,["name"])]),_:2},1024)):te("",!0),k(Me,null,{default:M(()=>[ze(Se(d.label),1)]),_:2},1024)]),_:2},1032,["to","href","target"])),[[Mt]]),d.separator?(j(),ee(xt,{key:"sep"+m})):te("",!0)],64))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),k(De,{modelValue:l.value,"onUpdate:modelValue":u[5]||(u[5]=d=>l.value=d),bordered:"",side:"right"},{default:M(()=>[k(Qe,{class:"fit"},{default:M(()=>[k(Dt,null,{default:M(()=>[k(Pe,{modelValue:ie(r),"onUpdate:modelValue":u[4]||(u[4]=d=>pe(r)?r.value=d:null),autofocus:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),k(Et,null,{default:M(()=>[k(L)]),_:1})]),_:1})}}});export{aa as default};
